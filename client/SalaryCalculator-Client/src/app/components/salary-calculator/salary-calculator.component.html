<mat-card class="salary-form-card">
    <mat-card-title>
        <mat-icon>calculate</mat-icon>
        חישוב שכר
    </mat-card-title>

    <mat-card-content>
        <form [formGroup]="form" (ngSubmit)="submit()">
            <div class="form-grid">
                <!-- אחוז משרה -->
                <mat-form-field appearance="outline">
                    <mat-label>אחוז משרה</mat-label>
                    <mat-select formControlName="partTimePercent">
                        <mat-option *ngFor="let item of partTimePercents$ | async" [value]="item.id">
                            {{ item.value }}%
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <!-- דרגה מקצועית -->
                <mat-form-field appearance="outline">
                    <mat-label>דרגה מקצועית</mat-label>
                    <mat-select formControlName="professionalLevel">
                        <mat-option *ngFor="let item of professionalLevels$ | async" [value]="item.id">
                            {{ item.value }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <!-- דרגה ניהולית -->
                <mat-form-field appearance="outline">
                    <mat-label>דרגה ניהולית</mat-label>
                    <mat-select formControlName="managementLevel">
                        <mat-option *ngFor="let item of managementLevels$ | async" [value]="item.id">
                            {{ item.value }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>

                <!-- ותק בשנים -->
                <mat-form-field appearance="outline">
                    <mat-label>שנות ותק</mat-label>
                    <input matInput type="number" formControlName="seniorityYears" min="0" />
                </mat-form-field>

                <!-- זכאות לתוספת חוק -->
                <mat-checkbox formControlName="lawBonusEligible" class="full-width">
                    זכאות לתוספת לפי חוק
                </mat-checkbox>

                <!-- קבוצה לתוספת חוק -->
                <mat-form-field appearance="outline">
                    <mat-label>קבוצת תוספת לפי חוק</mat-label>
                    <mat-select formControlName="lawBonusGroup">
                        <mat-option *ngFor="let item of lawBonusGroups$ | async" [value]="item.id">
                            {{ item.value }}
                        </mat-option>
                    </mat-select>
                </mat-form-field>
            </div>

            <!-- כפתור שליחה -->
            <div class="submit-wrapper">
                <button mat-raised-button color="primary" type="submit" [disabled]="form.invalid">
                    <mat-icon>send</mat-icon>
                    חשב שכר
                </button>
            </div>
        </form>
    </mat-card-content>
</mat-card>



<!-- תוצאה -->
<mat-card class="result-card" *ngIf="result">
    <mat-card-title>
        <mat-icon>insights</mat-icon>
        תוצאות חישוב שכר
    </mat-card-title>
    <mat-card-content>
        <mat-list>
            <mat-list-item>💼 שכר יסוד: {{ result.baseSalary | number:'1.2-2' }}</mat-list-item>
            <mat-list-item>📈 אחוז תוספת ותק: {{ result.seniorityBonusPercent | number:'1.2-2' }}%</mat-list-item>
            <mat-list-item>➕ תוספת ותק: {{ result.seniorityBonusAmount | number:'1.2-2' }}</mat-list-item>
            <mat-list-item>⚖️ תוספת לפי חוק: {{ result.lawBonusAmount | number:'1.2-2' }}</mat-list-item>
            <mat-list-item>🧾 שכר לפני העלאה: {{ result.salaryBeforeRaise | number:'1.2-2' }}</mat-list-item>
            <mat-list-item>📊 אחוז העלאה: {{ result.raisePercent | number:'1.2-2' }}%</mat-list-item>
            <mat-list-item>⬆️ תוספת העלאה: {{ result.raiseAmount | number:'1.2-2' }}</mat-list-item>
            <mat-list-item>💰 שכר לאחר העלאה: {{ result.salaryAfterRaise | number:'1.2-2' }}</mat-list-item>
        </mat-list>
    </mat-card-content>
</mat-card>